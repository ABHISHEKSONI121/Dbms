{"ast":null,"code":"var _jsxFileName = \"/Users/Abhishek/Desktop/Dbms/frontend/src/components/application-card.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ApplicationCard = () => {\n  _s();\n  const [applications, setApplications] = useState([]);\n  const currentUser = localStorage.getItem('useremail');\n  useEffect(() => {\n    fetchApplications();\n    const interval = setInterval(fetchApplications, 5000);\n    return () => clearInterval(interval);\n  }, []); // Run once on component mount\n\n  const fetchApplications = () => {\n    axios.get(`http://localhost:3000/api/application/fetch/${currentUser}`).then(response => {\n      setApplications(response.data.data);\n      console.log(response.data.data);\n    }).catch(error => {\n      console.error('Error fetching applications:', error);\n    });\n  };\n  const approveApplication = opportunityID => {\n    const eventData = {\n      post_id: opportunityID,\n      user: currentUser\n    };\n    axios.post(\"http://localhost:3000/api/application/approve\", eventData).then(response => {\n      console.log(response);\n    }).catch(error => {\n      console.error('Error approving application:', error);\n    });\n    alert(\"Applied Successfully\");\n  };\n  const rejectApplication = opportunityID => {\n    const eventData = {\n      post_id: opportunityID,\n      user: currentUser\n    };\n    axios.post(\"http://localhost:3000/api/application/delete\", eventData).then(response => {\n      console.log(response);\n    }).catch(error => {\n      console.error('Error rejecting application:', error);\n    });\n    alert(\"Deleted Successfully\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: applications.map(app => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cont-appli\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"title\",\n        children: app.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Email: \", app.user]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Department: \", app.department, \" \", app.job_type]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row-apply\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button-approve\",\n          onClick: () => approveApplication(app.post_id),\n          children: \"Approve\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button-reject\",\n          onClick: () => rejectApplication(app.post_id),\n          children: \"Reject\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, app.post_id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(ApplicationCard, \"/nbs5sQL2UzqDwq/om4lghfycVI=\");\n_c = ApplicationCard;\nexport default ApplicationCard;\nvar _c;\n$RefreshReg$(_c, \"ApplicationCard\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","ApplicationCard","_s","applications","setApplications","currentUser","localStorage","getItem","fetchApplications","interval","setInterval","clearInterval","get","then","response","data","console","log","catch","error","approveApplication","opportunityID","eventData","post_id","user","post","alert","rejectApplication","children","map","app","className","title","fileName","_jsxFileName","lineNumber","columnNumber","department","job_type","onClick","_c","$RefreshReg$"],"sources":["/Users/Abhishek/Desktop/Dbms/frontend/src/components/application-card.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst ApplicationCard = () => {\n  const [applications, setApplications] = useState([]);\n  const currentUser = localStorage.getItem('useremail');\n\n  useEffect(() => {\n    fetchApplications();\n    const interval = setInterval(fetchApplications, 5000);\n    return () => clearInterval(interval);\n  }, []); // Run once on component mount\n\n  const fetchApplications = () => {\n    axios.get(`http://localhost:3000/api/application/fetch/${currentUser}`)\n      .then(response => {\n        setApplications(response.data.data);\n        console.log(response.data.data);\n      })\n      .catch(error => {\n        console.error('Error fetching applications:', error);\n      });\n  };\n\n  const approveApplication = (opportunityID) => {\n    const eventData = {\n      post_id: opportunityID,\n      user: currentUser\n    };\n    axios.post(\"http://localhost:3000/api/application/approve\", eventData)\n      .then(response => {\n        console.log(response);\n      })\n      .catch(error => {\n        console.error('Error approving application:', error);\n      });\n    alert(\"Applied Successfully\");\n  };\n\n  const rejectApplication = (opportunityID) => {\n    const eventData = {\n      post_id: opportunityID,\n      user: currentUser\n    };\n    axios.post(\"http://localhost:3000/api/application/delete\", eventData)\n      .then(response => {\n        console.log(response);\n      })\n      .catch(error => {\n        console.error('Error rejecting application:', error);\n      });\n    alert(\"Deleted Successfully\");\n  };\n\n  return (\n    <div>\n      {applications.map(app => (\n        <div className=\"cont-appli\" key={app.post_id}>\n          <h2 className=\"title\">{app.title}</h2>\n          <h3>Email: {app.user}</h3>\n          <h3>Department: {app.department} {app.job_type}</h3>\n          <div className=\"row-apply\">\n            <button className=\"button-approve\" onClick={() => approveApplication(app.post_id)}>\n              Approve\n            </button>\n            <button className=\"button-reject\" onClick={() => rejectApplication(app.post_id)}>\n              Reject\n            </button>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default ApplicationCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}